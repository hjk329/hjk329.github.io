---
title:  "Next.jsì˜ SEO"
categories: 
  - Next.js
tags:
  - SEO
  - robots.txt
  - sitemap
  - next-sitemap
toc: true
toc_sticky: true
toc_label: "Next.jsì˜ SEO"
share: true

---

## ğŸ” SEOë¥¼ ìœ„í•œ ë„êµ¬

`robots.txt` ëŠ” ê²€ìƒ‰ì—”ì§„ í¬ë¡¤ëŸ¬ê°€ ì›¹ ì‚¬ì´íŠ¸ë¥¼ í¬ë¡¤ë§í•˜ë©´ì„œ ì •ë³´ë¥¼ ìˆ˜ì§í• ë•Œ ì—‘ì„¸ìŠ¤í•˜ê±°ë‚˜ ì •ë³´ ìˆ˜ì§‘ì„ í•´ë„ ë˜ëŠ” í˜ì´ì§€ê°€ ë¬´ì—‡ì¸ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.   
ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•œë‹¤.  

```
User-agent: *
Allow: /

Sitemap: https://hjk329.github.io/sitemap.xml
```

`User-agent` í•„ë“œëŠ” ê·œì¹™ì´ ì ìš©ë˜ëŠ” í¬ë¡¤ëŸ¬ë¥¼ ì‹ë³„í•œë‹¤.  
`Allow` í•„ë“œëŠ” í¬ë¡¤ë§ì´ í—ˆìš©ë˜ëŠ” URLì„ ì˜ë¯¸í•œë‹¤.  
`Disallow` í•„ë“œë¥¼ ì„¤ì •í•´ì„œ ì ‘ê·¼í•˜ê±°ë‚˜ ì •ë³´ ìˆ˜ì§‘ì´ í—ˆìš©ë˜ì§€ ì•ŠëŠ” í˜ì´ì§€ë¥¼ í‘œì‹œí•  ìˆ˜ë„ ìˆë‹¤.

`Sitemap` í•„ë“œëŠ” ë„ë©”ì¸ ë‚´ì˜ í˜ì´ì§€ ëª©ë¡ì„ ì˜ë¯¸í•œë‹¤.
  
Next.jsì—ì„œ `robots.txt`ì™€ `sitemap`ì„ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ëŠ” íŒ¨í‚¤ì§€ê°€ ìˆë‹¤! âœ¨

### next-sitemap
ê°œë°œ í™˜ê²½ë³„ë¡œ configë¥¼ ì„¤ì •í•  ìˆ˜ë„ ìˆê³ , ë™ì ì¸ í˜ì´ì§€ì— ëŒ€í•´ì„œë„ ì‚¬ì´íŠ¸ë§µì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.  

ê³µì‹ ë¬¸ì„œë¥¼ ë”°ë¼í•´ë³´ë©´ configëŠ” ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•œë‹¤.  
```
/** @type {import('next-sitemap').IConfig} */
module.exports = {
  siteUrl: process.env.SITE_URL || 'https://example.com',
  generateRobotsTxt: true, // (optional)
  // ...other options
}
```  



ê·¸ë¦¬ê³  `package.json`ì— ì•„ë˜ì™€ ê°™ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•œë‹¤.  
```
{
  "build": "next build",
  "postbuild": "next-sitemap"
}
```

ì´í›„ì— ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•˜ë©´ public í´ë” ì•„ë˜ì— `robots.txt`ì™€ `sitemap.xml` íŒŒì¼ì´ ìƒì„±ëœë‹¤!  

ë™ì  í˜ì´ì§€ì— ëŒ€í•œ ì‚¬ì´íŠ¸ë§µì€ ì•„ë˜ì™€ ê°™ì´ ìƒì„±í•  ìˆ˜ ìˆë‹¤.  

```
// pages/server-sitemap.xml/index.tsx íŒŒì¼ì„ ìƒì„±í•œë‹¤.

import { getServerSideSitemap } from 'next-sitemap'
import { GetServerSideProps } from 'next'

export const getServerSideProps: GetServerSideProps = async (ctx) => {
  // CMSì˜ URLì„ ê°€ì ¸ì˜¨ë‹¤ (articleId ë¥¼ ë¦¬í„´í•´ì£¼ëŠ” api ìš”ì²­ì„ í•  ìˆ˜ ìˆê² ë‹¤)
  // const urls = await fetch('https//example.com/api')

  const fields = [
    {
      loc: 'https://example.com', // Absolute url
      lastmod: new Date().toISOString(),
      // changefreq
      // priority
    },
    {
      loc: 'https://example.com/dynamic-path-2', // Absolute url
      lastmod: new Date().toISOString(),
      // changefreq
      // priority
    },
  ]

  return getServerSideSitemap(ctx, fields)
}

// Default export to prevent next.js errors
export default function Sitemap() {}
```



ê·¸ë¦¬ê³  config ì„¤ì •ì„ ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€í•œë‹¤.  

```
// next-sitemap.config.js

/** @type {import('next-sitemap').IConfig} */
module.exports = {
  siteUrl: 'https://example.com',
  generateRobotsTxt: true,
  exclude: ['/server-sitemap.xml'], // static ì‚¬ì´íŠ¸ë§µ ë¦¬ìŠ¤íŠ¸ì—ì„œëŠ” ì œì™¸í•œë‹¤
  robotsTxtOptions: {
    additionalSitemaps: [
      'https://example.com/server-sitemap.xml', // ì¶”ê°€ ì‚¬ì´íŠ¸ë§µì„ ì„¤ì •í•˜ëŠ” ì˜µì…˜ì— ì¶”ê°€í•´ì¤€ë‹¤
    ],
  },
}
```
